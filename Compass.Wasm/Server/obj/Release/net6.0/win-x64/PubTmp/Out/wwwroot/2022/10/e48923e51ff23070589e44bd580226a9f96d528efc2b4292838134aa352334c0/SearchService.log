2022-10-19 13:34:04.604 +08:00 [INF] User profile is available. Using 'C:\Users\Administrator\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-10-19 13:34:04.761 +08:00 [INF] Now listening on: http://localhost:50406
2022-10-19 13:34:04.770 +08:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-19 13:34:04.775 +08:00 [INF] Hosting environment: Development
2022-10-19 13:34:04.778 +08:00 [INF] Content root path: E:\CSharp\repos\YangZhongkeDotNet\YouZack\SearchService.WebAPI\
2022-10-19 13:34:05.728 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger - -
2022-10-19 13:34:06.009 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger - - - 301 0 - 291.2164ms
2022-10-19 13:34:06.026 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/index.html - -
2022-10-19 13:34:06.216 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/index.html - - - 200 - text/html;charset=utf-8 189.7857ms
2022-10-19 13:34:06.260 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui.css - -
2022-10-19 13:34:06.269 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui-bundle.js - -
2022-10-19 13:34:06.277 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui-standalone-preset.js - -
2022-10-19 13:34:06.283 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/_vs/browserLink - -
2022-10-19 13:34:06.295 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/_framework/aspnetcore-browser-refresh.js - -
2022-10-19 13:34:06.303 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/_framework/aspnetcore-browser-refresh.js - - - 200 12010 application/javascript;+charset=utf-8 7.6034ms
2022-10-19 13:34:06.335 +08:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-10-19 13:34:06.335 +08:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-10-19 13:34:06.338 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui-standalone-preset.js - - - 200 337162 application/javascript 62.1631ms
2022-10-19 13:34:06.340 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui.css - - - 200 143632 text/css 80.2236ms
2022-10-19 13:34:06.341 +08:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-10-19 13:34:06.344 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/swagger-ui-bundle.js - - - 200 1092889 application/javascript 75.5827ms
2022-10-19 13:34:06.377 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 93.8093ms
2022-10-19 13:34:06.485 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/favicon-16x16.png - -
2022-10-19 13:34:06.486 +08:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2022-10-19 13:34:06.488 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/favicon-16x16.png - - - 200 665 image/png 3.2371ms
2022-10-19 13:34:06.575 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/swagger/v1/swagger.json - -
2022-10-19 13:34:06.703 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 128.8860ms
2022-10-19 13:34:21.676 +08:00 [INF] Request starting HTTP/1.1 GET http://localhost:50406/api/Search?Keyword=iets&PageIndex=1&PageSize=10 - -
2022-10-19 13:34:21.749 +08:00 [INF] Executing endpoint 'SearchService.WebAPI.Controllers.SearchController.SearchEpisodes (SearchService.WebAPI)'
2022-10-19 13:34:21.786 +08:00 [INF] Route matched with {action = "SearchEpisodes", controller = "Search"}. Executing controller action with signature System.Threading.Tasks.Task`1[SearchService.Domain.SearchEpisodesResponse] SearchEpisodes(SearchService.WebAPI.Controllers.SearchEpisodesRequest) on controller SearchService.WebAPI.Controllers.SearchController (SearchService.WebAPI).
2022-10-19 13:34:26.394 +08:00 [INF] Executed action SearchService.WebAPI.Controllers.SearchController.SearchEpisodes (SearchService.WebAPI) in 4599.4271ms
2022-10-19 13:34:26.401 +08:00 [INF] Executed endpoint 'SearchService.WebAPI.Controllers.SearchController.SearchEpisodes (SearchService.WebAPI)'
2022-10-19 13:34:26.481 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Elasticsearch.Net.ElasticsearchClientException: The client is unable to verify that the server is Elasticsearch due to an unsuccessful product check call. Some functionality may not be compatible if the server is running an unsupported product. Call: Status code unknown from: GET /
 ---> Elasticsearch.Net.PipelineException: The client is unable to verify that the server is Elasticsearch due to an unsuccessful product check call. Some functionality may not be compatible if the server is running an unsupported product.
 ---> System.Net.Http.HttpRequestException: 由于目标计算机积极拒绝，无法连接。 (localhost:9200)
 ---> System.Net.Sockets.SocketException (10061): 由于目标计算机积极拒绝，无法连接。
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|277_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(HttpRequestMessage request)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Elasticsearch.Net.HttpConnection.RequestAsync[TResponse](RequestData requestData, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Elasticsearch.Net.RequestPipeline.ThrowIfTransientProductCheckFailure()
   at Elasticsearch.Net.RequestPipeline.PingAsync(Node node, CancellationToken cancellationToken)
   at Elasticsearch.Net.Transport`1.PingAsync(IRequestPipeline pipeline, Node node, CancellationToken cancellationToken)
   at Elasticsearch.Net.Transport`1.RequestAsync[TResponse](HttpMethod method, String path, CancellationToken cancellationToken, PostData data, IRequestParameters requestParameters)
   --- End of inner exception stack trace ---
   at SearchService.Infrastructure.SearchRepository.SearchEpisodes(String keyword, Int32 pageIndex, Int32 pageSize) in E:\CSharp\repos\YangZhongkeDotNet\YouZack\SearchService.Infrastructure\SearchRepository.cs:line 43
   at lambda_method7(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-19 13:34:26.499 +08:00 [INF] Request finished HTTP/1.1 GET http://localhost:50406/api/Search?Keyword=iets&PageIndex=1&PageSize=10 - - - 500 - text/plain;+charset=utf-8 4822.9437ms
